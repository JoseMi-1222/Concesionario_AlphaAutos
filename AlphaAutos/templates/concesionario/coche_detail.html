{% extends 'concesionario/base.html' %}

{% block title %}Detalle del Coche{% endblock %}

{% block cabecera %}
<h1>Detalle del Coche</h1>
{% endblock %}

{% block content %}

{% if coche.imagen %}
    <div class="mb-3">
        <img src="{{ coche.imagen.url }}" alt="Imagen de {{ coche.modelo }}" class="img-fluid rounded" style="max-height: 400px;">
    </div>
{% else %}
    <p class="text-muted">Sin imagen disponible.</p>
{% endif %}

{% if coche %}
    <div class="mb-3">
        <a class="btn btn-sm btn-outline-secondary" href="{% url 'AlphaAutos:editar_coche' coche.id %}">Editar</a>
        <a class="btn btn-sm btn-outline-danger ms-2 text-nowrap" href="{% url 'AlphaAutos:eliminar_coche' coche.id %}" onclick="return confirm('¿Estás seguro de que deseas eliminar?');">Eliminar</a>
    </div>
    <p><strong>ID:</strong> {{ coche.id }}</p>
    <p><strong>Marca:</strong> {{ coche.marca.nombre|upper }}</p>
    <p><strong>Modelo:</strong> {{ coche.modelo|title }}</p>
    <p><strong>Transmisión:</strong> {{ coche.get_transmision_display }}</p>
    <p><strong>Precio:</strong> {{ coche.precio|floatformat:2 }} €</p>
    <p><strong>Concesionario:</strong> {{ coche.concesionario.nombre }}</p>
    <p><strong>Fecha de fabricación:</strong> {{ coche.fecha_fabricacion|date:"d/m/Y" }}</p>

    {% if coche.precio > 30000 %}
        <p style="color:red;">Este coche es considerado caro.</p>
    {% elif coche.precio < 10000 %}
        <p style="color:green;">Este coche es una ganga.</p>
    {% else %}
        <p>Este coche tiene un precio estándar.</p>
    {% endif %}

{% else %}
    <p>No se encontró el coche.</p>
{% endif %}
{% endblock %}

